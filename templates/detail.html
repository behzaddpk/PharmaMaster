{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="bg-light py-3">
  <div class="container">
    <div class="row">
      <div class="col-md-12 mb-0"><a href="index.html">Home</a> <span class="mx-2 mb-0">/</span> <a
          href="shop.html">Store</a> <span class="mx-2 mb-0">/</span> <strong
          class="text-black">{{medicine.name}}</strong></div>
    </div>
  </div>
</div>

<div class="site-section">
  <div class="container">
    <div class="row">
      <div class="col-md-5 mr-auto">
        <div class="border text-center">
          <img src="{{ medicine.picture.url }}" alt="Image" class="img-fluid p-5">
        </div>
      </div>
      <div class="col-md-6">
        <h2 class="text-black">{{ medicine.title }}</h2>
        <p>{{medicine.detail}}</p>


        <p><del>${{medicine.amount}}</del> <strong class="text-primary h4">${{medicine.discount_amount}}</strong></p>

        <form  action='{% url "add-to-cart" %}'>
          {% csrf_token %}

          <div class="mb-5">
            <div class="input-group mb-3" style="max-width: 220px;">
              <div class="input-group-prepend">
                <button class="btn btn-outline-primary js-btn-minus" type="button">&minus;</button>
              </div>
              <input type="text" name='quantity' class="form-control text-center" value="10" placeholder=""
                aria-label="Example text with a button addon" aria-describedby="button-addon1">
              <div class="input-group-append">
                <button class="btn btn-outline-primary js-btn-plus" type="button">&plus;</button>
              </div>
            </div>
          </div>
          <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
          <script>
            var sitePlusMinus = function () {
              $('.js-btn-minus').on('click', function (e) {
                e.preventDefault();
                var inputField = $(this).closest('.input-group').find('.form-control');
                var currentValue = parseInt(inputField.val());

                // Decrement the value, ensuring it's never less than 10
                inputField.val(Math.max(currentValue - 1, 10));
              });

              $('.js-btn-plus').on('click', function (e) {
                e.preventDefault();
                var inputField = $(this).closest('.input-group').find('.form-control');
                var currentValue = parseInt(inputField.val());

                // Increment the value
                inputField.val(currentValue + 1);
              });
            };
            sitePlusMinus();
          </script>
          <input type='hidden' name='medicine' value='{{ medicine.id }}'><br>
          <button type='submit' class='buy-now btn btn-sm height-auto px-4 py-3 btn-primary'>Add to Cart</button>
          {% comment %} <p><a href="cart.html" class="buy-now btn btn-sm height-auto px-4 py-3 btn-primary">Add To Cart</a></p> {% endcomment %}
        </form>
      </div>




    </div>
  </div>
</div>


<div class="site-section bg-secondary bg-image" style="background-image: url('images/bg_2.jpg');">
  <div class="container">
    <div class="row align-items-stretch">
      <div class="col-lg-6 mb-5 mb-lg-0">
        <a href="#" class="banner-1 h-100 d-flex" style="background-image: url('images/bg_1.jpg');">
          <div class="banner-1-inner align-self-center">
            <h2>Pharma Products</h2>
            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Molestiae ex ad minus rem odio voluptatem.
            </p>
          </div>
        </a>
      </div>
      <div class="col-lg-6 mb-5 mb-lg-0">
        <a href="#" class="banner-1 h-100 d-flex" style="background-image: url('images/bg_2.jpg');">
          <div class="banner-1-inner ml-auto  align-self-center">
            <h2>Rated by Experts</h2>
            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Molestiae ex ad minus rem odio voluptatem.
            </p>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>

{% endblock content%}